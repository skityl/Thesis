% Chapter 1

\chapter{Higher Dimensions} % Main chapter title

\label{HigherDimensions} % For referencing the chapter elsewhere, use \ref{Chapter1} 

\lhead{Chapter \ref{HigherDimensions}. \emph{Higher Dimensions}} % This is for the header on each page - perhaps a shortened title

%----------------------------------------------------------------------------------------
\section{Introduction}
We have explored the concept of a quantised derivatives on $\Circ$ and on $\Rl$.
It is natural to consider generalisations to other spectral triples. 

$\Rl$ and $\Circ$ are important as settings for analysis since they
are spaces possessing some symmetry. In other words, there is a group
action on $\Rl$ (namely, the action of $\Rl$ on itself by translation)
that is faithful and transitive. Similarly the group $\Circ$
acts on itself by rotation.

We consider now more general noncommutative spaces with a group
action. There is a beautiful generalisation of the Fourier
transform in the theory of von Neumann algebras relating
to the action of compact groups. In the next section, we explore this idea.

For an introduction to the theory of von Neumann algebras, see the book \cite{Sakai1971}.

\section{Compact Group actions}

First we recall the definition of the $\sigma$-weak topology.

\begin{definition}
    Let $\Hilb$ be a Hilbert space, and let $\{\xi_j\}_{j = 0}^\infty$
    and $\{\eta_j\}_{j=0}^\infty$ be sequences of elements of $\Hilb$
    such that 
    \begin{align}
        \sum_{j=0}^\infty \|\xi_j\|^2 &< \infty\\
        \sum_{j=0}^\infty \|\eta_j\|^2 &< \infty.
    \end{align}
    Then for $a \in \mathcal{B}(\Hilb)$, define the semi-norm,
    \begin{equation}
        \left| \sum_{j=0}^\infty \langle \xi_j,a\eta_j\rangle\right|.
    \end{equation}
    This system of semi-norms defines the $\sigma$-weak topology
    on $\mathcal{B}(\Hilb)$.
    
    For more details, see \cite{Sakai1971}.
\end{definition}

Let $G$ be a compact abelian group equipped with normalised Haar
measure $\mu$, and let $\M$ be a von Neumann algebra.

Recall that a group action on a von Neumann algebra
is a mapping $\alpha:G\times \M\rightarrow \M$ such that
for all $g \in G$ the function $a\mapsto \alpha(g,a)$ is an algebra
homomorphism. We assert that all group actions
are $\sigma$-weakly continuous, meaning that the map $g\mapsto \alpha(g,x)$
is continuous from $G$ to $\M$ when $\M$ is equipped with the $\sigma$-weak
topology.

Suppose that $G$ acts on $M$ in a way that is
\begin{enumerate}
    \item{} \emph{ergodic}: the only projections in $\M$
    fixed by $G$ are $0$ and $1$.
    \item{} \emph{free}: there is no nontrivial projection $p \in \M$
    such that some $g \in G$ not equal to the identity fixes all of $p\M p$.
\end{enumerate}

We will need to compute integrals of von Neumann algebra valued functions.
To do this, will will use the \emph{Pettis integral}. See the paper
\cite{zsido1977spectral} for details. The important feature of the Pettis
integral that we will need is that it commutes with a group action.
That is, if $G$ is a compact abelian group with Haar measure $\mu$, and 
$f:G\to \M$ is a function that is continuous in the $\sigma$-weak topology, 
and $g \in G$, and $\alpha$ is a $G$-action on $\M$, we have
\begin{equation}
    \alpha(g,\int_G f(s)\;d\mu(s)) = \int_G \alpha(g,f(s))\;d\mu(s).
\end{equation}


We then have the following result:
\begin{proposition}
    Suppose that $G$ is a compact abelian group that acts freely and ergodically
    on the von Neumann algebra $\M$. We denote the action as $\alpha:G\times\M\rightarrow\M$. 
    Then there is a set 
    \begin{equation}
        \{ u(p) \;:\; p \in \widehat{G}\}
    \end{equation}
    of unitary eigenoperators for the action indexed by the dual group $\widehat{G}$.
\end{proposition}
\begin{proof}
    Let $x \in \M$ and $p \in \widehat{G}$. Define
    \begin{equation}
        \hat{x}(p) := \int_G \alpha(s,x) p(s)^{-1} \;d\mu(s).
    \end{equation}
    Let $g \in G$, then we can compute,
    \begin{align}
        \alpha(g,\hat{x}(p)) &= \int_G \alpha(g,\alpha(s,x))\;d\mu(s)\\
                             &= \int_G \alpha(sg,x)p(s)^{-1} \;d\mu(s)\\
                             &= p(g)\hat{x}(p).
    \end{align}
    Hence we have that for each $g \in G$, the linear map $x \mapsto \alpha(g,x)$
    has eigenvector $\hat{x}(p)$ with eigenvalue $p(g)$. This is
    to say that $\hat{x}(p)$ is an eigenoperator for the action of $G$.
    Hence, for $x,y \in \M$, we have that $\hat{x}(p)\hat{y}(p)^*$ is a fixed
    point of $G$, hence a scalar multiple of $1$ by the ergodicity of the action.
    
    Then define
    \begin{equation}
        u(p) := \frac{\hat{x}(p)}{\|\hat{x}(p)\|}.
    \end{equation}
\end{proof} 
\begin{example}
    The prototypical example of this decomposition is for $\M = L^\infty(\Circ)$,
    and $G = \Circ$ with Haar measure  acting on $\M$ by rotation. Then $\widehat{G} = \Itgr$,
    and for $f \in L^\infty(\Circ)$ and $n \in \Itgr$, we have
    \begin{equation}
        \hat{f}(n)(\zeta) = \int_\Circ f(\tau\zeta) \tau^{-n} d\ha(\tau)
    \end{equation}
    This is simply the $n$th Fourier coefficient multiplied by $\zeta^n$. Hence we have (up to a unimodular 
    scaling factor)
    \begin{equation}
        u(n)(\zeta) = \zeta^n.
    \end{equation}
    So the system of unitaries is the set of monomials on $\Circ$. 
\end{example}
The important feature of this system of unitaries is that it spans
$\M$ in the following sense, proved in \cite[Thm 2.3]{Pedersen1979}:
\begin{proposition}
\label{densePolynomials}
    Let $G$ be a compact abelian group acting freely and ergodically 
    on a von Neumann algebra $\M$. Let
    \begin{equation}
        \mathcal{P} = \{ u(p)\;:\; p \in \widehat{G}\}
    \end{equation}
    be the corresponding unitary eigenoperators of $G$. Then the span
    of $\mathcal{P}$ is dense in the $\sigma$-weak topology on $\M$.
\end{proposition}

\subsection{The space $\mathcal{L}^2(\M,\tau)$}
Suppose that $\tau$ is a faithful trace on $\M$ such that $\tau(1) = 1$,
and $\tau$ is invariant under the action of $G$, that is for
all $g \in G$ and $x \in \M$ we have $\tau(\alpha(g,x)) = \tau(x)$. 
Then the map $(x,y)\mapsto \tau(x^*y)$ is an inner product on $\M$,
and the completion of $\M$ in this inner product is denoted $\mathcal{L}^2(\M,\tau)$.
See the book \cite[Ch. 1]{SingularTraces} for introduction
to the theory of traces on von Neumann algebras.


We require the following lemma from Pedersen \cite{Pedersen1979},
Theorem 3.6.5,
\begin{lemma}
\label{pedersenLemma}
    A state $\varphi$ on a von Neumann algebra is normal if and only if it is
    $\sigma$-weakly continuous.
\end{lemma}


We now prove that if $\M$ carries a free and ergodic group action, such a trace exists.
\begin{lemma}
    Let $\M$ be a von Neumann algebra, and let $G$ act on $\M$ freely and ergodically.
    Then there is a $G$-invariant state on $\M$, and it is a faithful normal
    trace.
\end{lemma}
\begin{proof}
    Define for $x \in \M$, 
    \begin{equation}
        \tau(x) = \int_G \alpha(s,x)\;d\mu(s) = \hat{x}(0).
    \end{equation}
    See that $\alpha(g,\tau(x)) = \tau(x)$ since the Haar
    measure is $G$-invariant, so $\tau(x)$
    is $G$-invariant so by ergodicity must be in $\Cplx 1$. If we identify
    $\Cplx 1$ with $\Cplx$, we can think of $\tau(x)$ as a scalar, so $\tau(x)$
    is a linear functional. We see that $\tau$ is a state since $\tau(1) = \int_G 1\;d\mu = 1$.   
    
    If $\tau(x^*x) = 0$, we must have $\alpha(s,x)^*\alpha(s,x) = 0$
    for all $s \in G$, so $x = 0$. Hence $\tau$ is faithful.
    
    Recall that a state $\varphi$ is normal if for any sequence of 
    pairwise orthogonal projections $\{p_n\}_{n \in \Ntrl}$, we have
    that $\varphi(\sum_{n} p_n) = \sum_{n} \tau(p_n)$. 
    We have that the series $\sum_n p_n$ converges strongly, hence
    $\sigma$-weakly. Thus $\tau$ is normal since $\alpha(s,-)$
    is $\sigma$-weakly continuous.
    
    
    Since $\tau$ is normal, by lemma \ref{pedersenLemma} it is $\sigma$-weakly continuous.
    
    Hence to prove that $\tau$ is a trace it is sufficient to prove that
    \begin{equation}
        \tau(u(p)u(q)) = \tau(u(q)u(p))
    \end{equation}
    for all $p,q \in \widehat{G}$ since the system $\{u(p)\;:\; p \in \widehat{G}\}$
    is $\sigma$-weakly dense in $\M$ by proposition \ref{densePolynomials}.
    
    Let $g \in G$, since $\tau$ is $G$-invariant then we have
    \begin{align}
        \tau(u(p)u(q)) &= \tau(\alpha(g,u(p)u(q)))\\
        &= p(g)q(g)\tau(u(p)u(q)).
    \end{align}
    If $p \neq q^{-1}$, we can find $g$ such that $p(g)q(g) \neq 1$. Thus,
    $\tau(u(p)u(q)) = 0$.
    
    Otherwise, if $p = q^{-1}$ there is a scalar $\lambda_p$
    with $|\lambda_p| = 1$ such that
    \begin{align}
        \tau(u(p)u(q)) = \lambda_p\tau(u(p)u(p)^*) = \lambda_p\tau(1) = \lambda_p.
    \end{align}
    Similarly we compute $\tau(u(q)u(p)) = \lambda_p$, so $\tau(u(p)u(q)) = \tau(u(q)u(p))$.
    
    Since the set $\{u(p)\;:\;p \in \widehat{G}\}$ is $\sigma$-weakly
    dense in $\M$, we have that $\tau(xy) = \tau(yx)$ for all $x,y \in \M$.
    
\end{proof} 


\begin{proposition}
\label{L2Convergence}
    Let $\mathcal{P} := \{u(p)\;:\;p \in \widehat{G}\}$ be the set of unitary eigenoperators
    corresponding to the action of $G$. Then $\{u(p)\;:\; p \in \widehat{G}\}$
    is an orthonormal basis for $\mathcal{L}^2(\M,\tau)$.
\end{proposition}
\begin{proof}
    By standard Hilbert space theory, it is sufficient to prove that $\mathcal{P}$
    is orthonormal and has dense span (see, e.g., \cite{rudin} for details on
    the theory of Hilbert spaces).
    
    First we prove ortho-normality. Let $p,q \in \widehat{G}$. Then for all $g \in G$,
    \begin{align}
        \tau(u(p)^*u(q)) &= \tau(p(g)^{-1}q(g)u(p)^*u(q))\\
        &= p(g)^{-1}q(g)\tau(u(p)^*u(q)).
    \end{align}
    If $p \neq q$, there is some $g \in G$ such that $p(g)^{-1}q(p) \neq 1$,
    so we conclude that $\tau(u(p)^*u(q)) = 0$.
    If $p = q$, then by unitarity we have
    \begin{equation}
        \tau(u(p)^*u(q)) = \tau(1) = 1.
    \end{equation}
    Hence $\mathcal{P}$ is orthonormal.
    
    To prove that the span of $\mathcal{P}$ is dense in $\mathcal{L}^2(\M,\tau)$,
    it is sufficient to prove that it is dense in $\M$ in the norm $\|x\|_2 := \sqrt{\tau(x^*x)}$.
    This follows from the $\sigma$-weak continuity of $\tau$.
\end{proof}

\begin{remark}
    In fact, for any $p \geq 1$, we have that the norm $\|x\|_p = (\tau(|x|^p))^{1/p}$
    is $\sigma$-weakly continuous, so $\{u(p)\;:\;p \in \widehat{G}\}$
    is dense in $\mathcal{L}^p(M,\tau)$, defined as the completion of $\M$
    in the norm $\|\cdot\|_p$. 
\end{remark}

%\subsection{Symplectic bicharacters corresponding to group actions}
%The system of unitaries corresponding to a group
%action is not arbitrary, and it has some structure, as we
%now show:
%\begin{definition}
%\label{bicharacterDef}
%Let $\M$ be a von Neumann algebra, with an action $\alpha:G\times \M\to\M$
%    from a compact abelian group $G$ that is free and ergodic. Let 
%    $\{u(p)\;:\;p \in \widehat{G}\}$ be the corresponding system of unitaries.
%    Define,
%    \begin{equation}
%        \omega(p,q)1 := u(p)u(q)u(p+q)^*.
%    \end{equation}
%    We have that $\omega(p,q)\in\Cplx$ since the action is ergodic. 
%    Similarly, define
%    \begin{equation}
%        \chi(p,q)1 = u(p)u(q)u(p)^*u(q)^*.
%    \end{equation}
%\end{definition}
%We will require the following lemma:
%\begin{lemma}
%\label{lemmaOnCharacters}
%    Let $\omega,\chi$ be as in Definition \ref{bicharacterDef},
%    and $p,q,r \in \widehat{G}$. Then,
%    \begin{equation}
%        \omega(q,r)\omega(p,q+r) = \omega(p+q,r)\omega(p,q).
%    \end{equation} 
%    We also have,
%    \begin{align}
%        \chi(p+q,r) &= \chi(p,q)\chi(q,r)\\
%        \chi(p,q)^{-1} &= \chi(q,p).
%    \end{align}
%\end{lemma}
%Lemma \ref{lemmaOnCharacters} is the result of straightforward computation, which
%we omit. The computations can be found in \cite{Pedersen1979}.
\subsection{Noncommutative Harmonic Analysis}

We now fix $G = \Circ^d$, for $d \geq 1$, so that $\widehat{G} = \Itgr^d$. It is of interest
to prove certain results that are analogous to classical results of harmonic
analysis. In particular, one known classical result is that if $f \in L^1(\Circ^d,\ha)$,
then the Fourier coefficients $\hat{f}(n)$ vanish as $\|n\|\rightarrow \infty$. We now
prove an analogy of this result. 

Let $\ha$ denote the normalised Haar measure on $\Circ^d$.

From now on, denote the action of $t \in \Circ^d$ on $x \in \M$ as $\alpha_t(x)$.

Fix $\M$ a von Neumann Algebra, and let $\Circ^d$ act on $\M$ freely
and ergodically. Let $\tau$ be a normalised faithful $\Circ^d$-invariant trace
on $\M$. Let
\begin{equation}
    \mathcal{P} := \{ u(n) \;:\; n \in \Itgr^d\}
\end{equation}
be the spanning system of unitary eigenoperators of the group action. 

For $a \in \mathcal{L}^1(\M,\tau)$ and $n \in \Itgr^d$, define
\begin{equation}
    \hat{a}(n) := \tau(au(n)^*)
\end{equation}

For any $a \in \mathcal{L}^2(\M,\tau)$, we have that
\begin{equation}
    a = \sum_{n \in \Itgr^d} \hat{a}(n)u(n)
\end{equation}
where the convergence is in the $\mathcal{L}^2$ norm. This is
an isomorphism with $\ell^2(\Itgr^d)$.
In general, for $N = (N_1,\ldots,N_d) \in \Itgr^d$, define
\begin{equation}
    S_N a := \sum_{n = -N}^N \hat{a}(n)u(n)
\end{equation}
where the summation runs over all multi-indices $n = (n_1,\ldots,n_d)$
such that for each $1\leq j \leq d$, we have $-N_j \leq n_j \leq N_J$.
$S_N$ is called the C\`esaro sum.
and
\begin{equation}
    \sigma_N a := \frac{1}{N_1N_2\cdots N_d}\sum_{n = (1,\ldots,1)}^N S_n a.
\end{equation}
and the summation runs over multi-indices $n = (n_1,\ldots,n_d)$
such that for each $j$, $1 \leq n_j \leq N_j$.

Now we define the subspaces of $\M$
analogous to ``\emph{continuous}" and ``\emph{uniformly continuous}"
functions. 
\begin{definition}
    Define $\mathcal{C}(\M)$ to be the closure of the span of $\mathcal{P}$
    in the norm topology of $\M$.
    
    Define $\mathcal{U}(\M)$ to be the set of elements of $\M$
    such that for any $\varepsilon > 0$ there exists $\delta > 0$ such that
    \begin{equation}
        \sup_{|t| < \delta} \|\alpha_t(x)-x\| < \varepsilon.    
    \end{equation}
    Where, for $t \in \Circ^d$, If $t = (e^{2\pi i\varphi_1},\ldots,e^{2\pi i\varphi_d})$, we 
    denote
    \begin{equation}
        |t| = \max\{|\varphi_1|,\ldots,|\varphi_d|\}.
    \end{equation}
\end{definition}

\begin{definition}
    Let $n = (n_1,\ldots,n_d) \in \Itgr^d$, and $t = (t_1,\ldots,t_d) \in \Circ^d$.
    Then we introduce the notation
    \begin{equation}
        t^d := t_1^{n_1}\cdots t_d^{n_d}.
    \end{equation}    
\end{definition}

%\begin{lemma}
%    We have the inclusion,
%    \begin{equation}
%        \mathcal{C}(\M) \subseteq \mathcal{U}(\M).
%    \end{equation}
%\end{lemma}
%\begin{proof}
%    First let $u(n) \in \mathcal{P}$. Then for $t \in \Circ^d$,
%    we have
%    \begin{equation}
%        \alpha_t(u(n)) = t^n u(n)
%    \end{equation}
%    Hence
%    \begin{equation}
%        \|\alpha_t(u(n))-u(n)\| = |t^n-1|\|u(n)\|.
%    \end{equation}
%    So since $\lim_{t\rightarrow 1} |t^n - 1| = 0$, we have 
%    that for any $\varepsilon > 0$ there exists $\delta > 0$ such that
%    \begin{equation}
%        \sup_{|t| < \delta} \|\alpha_t(u(n))-u(n)\| < \varepsilon. 
%    \end{equation} 
%    
%    Now let $a$ be in the linear span of $\mathcal{P}$. Since $a$
%    is only a finite linear combination of terms of the form $u(n)$, $n \in \Itgr$, we have
%    that for any $\varepsilon > 0$ there exists a $\delta > 0$ such that
%    \begin{equation}
%        \sup_{|t| <  \delta} \|\alpha_t(a) - a\| < \varepsilon.
%    \end{equation}
%    Hence the linear span of $\mathcal{P}$ is contained in $\mathcal{U}(\M)$.
%    We will be finished if we can show that $\mathcal{U}(\M)$ is closed
%    in the norm topology.
    
%    Suppose that $\{x_n\}_{n=0}^\infty$ is a sequence in $\mathcal{U}(\M)$ converging
%    in the norm topology to $x \in \M$. Then let $t \in \Circ^d$, by the triangle inequality,
%    \begin{equation}
%        \|\alpha_t(x)-x\| < \|\alpha_t(x)-\alpha_t(x_n)\| + \|\alpha_t(x_n)-x_n\| + \|x_n - x\|
%    \end{equation}
%    By assumption, the group action is continuous in the norm topology,
%    so there is a constant $C$ such that $\|\alpha_t(x)-\alpha_t(x_n)\| < C\|x-x_n\|$. 
%    Hence the result follows. 
%\end{proof}

\begin{definition}
    Suppose that $\varphi \in L^1(\Circ^d,\ha)$, and $x \in \M$. Define the \emph{convolution}
    \begin{equation}
        \varphi * x = \int_{\Circ^d} \varphi(t)\alpha_t(x)\;d\ha(t).
    \end{equation}
\end{definition}

It can be proved that
\begin{equation}
    S_N x = D_N * x
\end{equation}
where 
\begin{equation}
    D_N(t) = \prod_{j=1}^d\frac{t_j^{N_j+1/2}-t_j^{-N_j-1/2}}{t_j^{1/2}-t_j^{-1/2}}
\end{equation}
and
\begin{equation}
    \sigma_N x = F_N*x
\end{equation}
where
\begin{equation}
    F_N(t) = \prod_{j=1}^d\frac{t_j^{N_j}-2+t_j^{-N_j}}{N(t_j^{1/2}-t_j^{-1/2})^2}
\end{equation}
where the fractional powers in the formulae for $D_N$ and $F_N$ are defined
in a principal value sense. $D_N$
is called the Dirichlet kernel, and $F_N$ is the F\'ejer kernel. See \cite{katznelson} for proofs.

Now we recall the definition approximate identities,
\begin{definition}
    Let $\Lambda$ be a directed set.
    A net $\{\Phi_\lambda\}_{\lambda \in \Lambda} \subset L^1(\Circ^d,\ha)$ is called
    an approximation to the identity if,
    \begin{enumerate}
        \item{} For all $\lambda$, we have $\int_{\Circ^d} \Phi_\lambda \;d\ha = 1$.
        \item{} We have $\sup_{\lambda} \int_{\Circ^d} |\Phi_\lambda|\;d\ha < \infty$
        \item{} For any $\delta > 0$, we have $\lim_{\lambda \in \Lambda} \int_{|t| > \delta} |\Phi_\lambda|\;d\ha = 0$.
    \end{enumerate}
\end{definition}

It can be proved that the sequence $\{F_n\}_{n\in\Ntrl^d}$ is an approximate
identity (see \cite{Grafakos1} for a detailed discussion of the kernels $\{F_n\}_{n=1}^\infty$).

Approximate identities are so named because of the following two results:
\begin{proposition}
    Let $x \in \mathcal{U}(\M)$, and let $\{\Phi_\lambda\}_{\lambda \in \Lambda}$ be an 
    approximate identity. Then we have
    \begin{equation}
        \lim_{\lambda \in \Lambda} \|\Phi_\lambda*x - x\| = 0.
    \end{equation}
\end{proposition}
\begin{proof}
    Using the fact that $\int_\Circ \Phi_\lambda\;d\mu = 1$, we compute,
    \begin{equation}
        \Phi_n*x-x = \int_\Circ \Phi_\lambda(t)(\alpha_t(x)-x)\;d\mu(t).
    \end{equation}
    Let $\varepsilon > 0$. Choose $\delta$ small enough such that
    \begin{equation}
        \sup_{|t| < \delta} \|\alpha_t(x)-x\| < \varepsilon.
    \end{equation}
    Now estimate,
    \begin{equation}
        \|\Phi_\lambda*x - x\| \leq \int_{|t| < \delta} |\Phi_\lambda(t)|\|\alpha_t(x)-x\|\;d\mu(t) + (C+1)\int_{|t| \geq \delta} |\Phi_\lambda(t)|\|x\| d\mu(t)
    \end{equation}
    where $C$ is a constant such that $\|\alpha_t(x)\| < C\|x\|$.
    So taking the limit over $\lambda$, we have
    \begin{equation}
        \lim_{\lambda \in \Lambda} \|\Phi_\lambda*x-x\| < \varepsilon \sup_{\lambda \in \Lambda} \int_\Circ |\Phi_n|\;d\ha.
    \end{equation}
    But $\varepsilon$ is arbitrary, so the result follows.
\end{proof}

\begin{proposition}
    We have that
    \begin{equation}
        \mathcal{U}(\M) \subseteq \mathcal{C}(\M).
    \end{equation}
\end{proposition}
\begin{proof}
    Let $a \in \mathcal{U}(\M)$. Since $\{F_n\}_{n\in\Ntrl^d}$ is an approximate identity, we have
    that $F_n*a\rightarrow a$ in the norm topology. But $F_n*a \in \Span(\mathcal{P})$.
    Hence $a \in \mathcal{C}(\M)$. Hence we have that $\mathcal{U}(\M) \subseteq \mathcal{C}(\M)$.
    

%    First let $u(n) \in \mathcal{P}$. Then for $t \in \Circ^d$,
%    we have
%    \begin{equation}
%        \alpha_t(u(n)) = t^n u(n)
%    \end{equation}
%    Hence
%    \begin{equation}
%        \|\alpha_t(u(n))-u(n)\| = |t^n-1|\|u(n)\|.
%    \end{equation}
%    So since $\lim_{t\rightarrow 1} |t^n - 1| = 0$, we have 
%    that for any $\varepsilon > 0$ there exists $\delta > 0$ such that
%    \begin{equation}
%        \sup_{|t| < \delta} \|\alpha_t(u(n))-u(n)\| < \varepsilon. 
%    \end{equation} 
%    
%    Now let $a$ be in the linear span of $\mathcal{P}$. Since $a$
%    is only a finite linear combination of terms of the form $u(n)$, $n \in \Itgr$, we have
%    that for any $\varepsilon > 0$ there exists a $\delta > 0$ such that
%    \begin{equation}
%        \sup_{|t| <  \delta} \|\alpha_t(a) - a\| < \varepsilon.
%    \end{equation}
%    Hence the linear span of $\mathcal{P}$ is contained in $\mathcal{U}(\M)$.
%    
\end{proof}

\begin{proposition}
    Let $\M$ be a von Neumann algebra with a free and ergodic group action $\alpha$ of $\Circ^d$.
    Let $\mathcal{P} = \{u(n)\;:\;n \in \Itgr^d\}$ be the corresponding system
    of eigenoperators and trace $\tau$. Then $\mathcal{P} \subseteq \mathcal{U}(\M)$,
    and hence $\mathcal{U}(\M)$ is dense in $\mathcal{L}^p(\M,\tau)$
\end{proposition}
\begin{proof}

    First let $u(n) \in \mathcal{P}$. Then for $t \in \Circ^d$,
    we have
    \begin{equation}
        \alpha_t(u(n)) = t^n u(n)
    \end{equation}
    Hence
    \begin{equation}
        \|\alpha_t(u(n))-u(n)\| = |t^n-1|\|u(n)\|.
    \end{equation}
    So since $\lim_{t\rightarrow 1} |t^n - 1| = 0$, we have 
    that for any $\varepsilon > 0$ there exists $\delta > 0$ such that
    \begin{equation}
        \sup_{|t| < \delta} \|\alpha_t(u(n))-u(n)\| < \varepsilon. 
    \end{equation} 
    
    Now let $a$ be in the linear span of $\mathcal{P}$. Since $a$
    is only a finite linear combination of terms of the form $u(n)$, $n \in \Itgr$, we have
    that for any $\varepsilon > 0$ there exists a $\delta > 0$ such that
    \begin{equation}
        \sup_{|t| <  \delta} \|\alpha_t(a) - a\| < \varepsilon.
    \end{equation}
    Hence the linear span of $\mathcal{P}$ is contained in $\mathcal{U}(\M)$.
    
    Since the span of $\mathcal{P}$ is dense in $\mathcal{L}^p(\M,\tau)$,
    we conclude that $\mathcal{U}(\M)$ is dense in $\mathcal{L}^p(\M,\tau)$.
\end{proof}


As usual, define $\|x\|_p = \tau(|x|^p)^{1/p}$. We require the following lemma:
\begin{lemma}
    Let $p \geq 1$. Suppose $\varphi \in L^1(\Circ^d,\ha)$, and $x \in \mathcal{L}^p(\M,\tau)$. Then
    \begin{equation}
        \|\varphi*x\|_p \leq \|\varphi\|_1\|x\|_p.
    \end{equation}
\end{lemma} 
\begin{proof}
    First we establish the case $p  =  1$. This is a computation,
    \begin{equation}
        \|\varphi * x\|_1 \leq \int_{\Circ^d} |\varphi(t)|\|\alpha_{t}(a)\|_1\;d\ha(t).
    \end{equation}
    Similarly, we define $\|x\|_\infty = \|x\|$. Thus the $p = \infty$ case,
    \begin{equation}
        \|\varphi*x\|_\infty \leq \|\varphi\|_1\|x\|.
    \end{equation}
    
    Consider the function $T(x) = \varphi * x$. We
    have shown that $T:\mathcal{L}^1(\M,\tau)\to\mathcal{L}^1(\M,\tau)$
    with norm $\|\varphi\|_1$, and $T:\M\to \M$ with norm $\|\varphi\|_1$.
    
    We see that since $\tau(1) = 1$, we have $\M \subseteq \mathcal{L}^1(\M,\tau)$.
    Thus $(\mathcal{L}^1(\M,\tau),\M)$ is a compatible pair (as in definition \ref{compatiblePair}).
    
    Hence for any exact interpolation functor $F$ (see Appendix \ref{Interpolation}
    for details on interpolation theory),
    we have that $T:F(\mathcal{L}^1(\M,\tau),\M)\to F(\mathcal{L}^1(\M,\tau),\M)$
    with norm $\|\varphi\|_1$. In Theorem 4.1 of \cite{DDP92} is it shown that there exists
    an exactly interpolation functor  functor $F$ with $F(\mathcal{L}^1(\M,\tau),\M) = \mathcal{L}^p(\M,\tau)$.
    
    Hence by interpolation, the result follows.
\end{proof} 


\begin{proposition}
     If $\{\Phi_\lambda\}_{\lambda \in \Lambda}$
    is an approximate identity, and $x \in \mathcal{L}^p(\M,\tau)$
    and $p \geq 1$
    then
    \begin{equation}
        \lim_{\lambda \in \Lambda}\|\Phi_\lambda*x-x\|_p = 0.
    \end{equation}    
\end{proposition}
\begin{proof}
    Let $\varepsilon > 0$.
    Since $\mathcal{U}(\M)$ contains the linear span of $\mathcal{P}$,
    and the linear span of $\mathcal{P}$ is dense in $\mathcal{L}^p(\M,\tau)$
    in the $\|.\|_p$ norm, we can find $y \in \mathcal{U}(\M)$ such
    that $\|x-y\|_p < \varepsilon$. Hence,
    \begin{align}
        \|\Phi_\lambda*x-x\|_p &\leq \|\Phi_\lambda*x-\Phi_\lambda*y\|_p + \|\Phi_\lambda*y-y\|_p + \|y-x\|_p\\
        &\leq \sup_{\mu \in \Lambda} \|\Phi_\mu\|_1\varepsilon + \|\Phi_\lambda*y-y\|_p + \varepsilon.
    \end{align}
    Now take the limit over $\lambda$, and thus we obtain the result.
\end{proof}

At last we can prove the following result:
\begin{proposition}
    Let $x \in \mathcal{L}^1(\M,\tau)$. Then we have $\hat{x}(n) \rightarrow 0$
    as $\|n\|\rightarrow\infty$.
\end{proposition}
\begin{proof}
    For $n = (n_1,\ldots,n_d) \in \Itgr^d$, denote $|n| := (n_1,\ldots,n_d)$.
    We have that $\tau((\sigma_{|N|-1}x)u(N)^*) = 0$, since $\sigma_{|N|-1}x$
    is a linear combination of $\{u(n)\:\;:\;|n| < |N|\}$. Hence,
    \begin{align}
        |\hat{x}(n)| &= |\tau(xu(n)^*)|\\
&\leq |\tau((x-\sigma_{|n|-1}x)u(n)^*)|\\
&\leq \|u(n)^*\|\|x-\sigma_{|n|-1}x\|_1\\
&= \|x-F_{|n|-1}*x\|_1.
    \end{align}
    But the right hand side vanishes as $\|n\|\rightarrow\infty$.
\end{proof}

\subsection{The Operators $\delta_j$}
Let $\M$ be a von Neumann Algebra, and let $\Circ^d$
act freely and ergodically on $\M$. 

The generalised differentiation operator $\delta_j$ is defined
as the \emph{infinitesimal generator} of the action of $\Circ^d$, as follows,
\begin{definition}
    Let $j \in \{1,\ldots,d\}$. 
    
    For $t \in \Circ$, we have an action $\alpha^j_t$ on $\M$
    which is the action of the $j$th coordinate of $\Circ^d$ on $\M$
    
    For $x \in \mathcal{M}$, we define 
    \begin{equation}
        \delta_j(x) = \lim_{t\rightarrow 1} \frac{\alpha^j_t(x)-x}{|t|}
    \end{equation}
    where $|t|$ is the minimal normalised arc length between $t$ and $1$.
    
    The limit is in the sense of the norm topology on $\M$.
    
    This limit may not exist for all $x$. Let $\Dom(\delta_j)$
    be the set of all $x$ such that $\delta_j(x)$ exists.
\end{definition}
Note that $\Dom(\delta_j)$ is automatically a vector space.



\begin{lemma}
    We have $\mathcal{P} \subset \Dom(\delta_j)$.
\end{lemma}
\begin{proof}
    For $t \in \Circ$, and $u(n) \in \mathcal{P}$ with $n = (n_1,\ldots,n_d)$, we have $\alpha^j_tu(n) = t^n_ju(n)$.
    
    Hence,
    \begin{equation}
        \frac{\alpha^j_t(u(n))-u(n)}{|t|} = \frac{t^{n_j}-1}{|t|}u(n).
    \end{equation}
    
    We parametrise $\Circ$ by $t\mapsto \exp( i \theta)$, for $\theta \in [0,2\pi)$. Then we
    have
    \begin{equation}
        \frac{t^{n_j}-1}{|t|} = \frac{\exp(in_j\theta)-1}{\theta}.
    \end{equation}
    Hence,
    \begin{align}
        \delta_j(u(n)) &= \lim_{t\rightarrow 1} \frac{t^{n_j}-1}{|t|}u(n)\\
                &= \lim_{\theta\rightarrow 0} \frac{\exp(in_j\theta)-1}{\theta}u(n)\\
                &= in_ju(n).
    \end{align}
    Hence, $u(n) \in \Dom(\delta_j)$.
\end{proof}


\begin{proposition}
    Suppose that $x \in \Dom(\delta_j)$. Then 
    \begin{equation}
        \widehat{\delta_j(x)}(n) = in_j\widehat{x}(n).
    \end{equation}
\end{proposition}
\begin{proof}
    By definition, $\Dom(\delta_j) \subseteq \M \subseteq \mathcal{L}^1(\M,\tau)$. 
    
    Let $x \in \Dom(\delta_j)$.
    
    Hence, we have $F_n*x\rightarrow x$ in the $\mathcal{L}^1$ sense, and since $\delta_j(x) \in \mathcal{L}^1(\Circ)$, we have $F_n*\D(x)\rightarrow \D(x)$ in the $\mathcal{L}^1$ sense. 
    
    Note that since $F_n*x$ is in the linear span of $\mathcal{P}$, we
    have $F_n*x \in \Dom(\delta_j)$. See that
    \begin{equation}
        \delta_j(F_n *x) = \frac{1}{n_1n_2\cdots n_d}\sum_{k=0}^n \delta_j(D_k* x).
    \end{equation}
    where the sum is over multi-indices $k = (k_1,\ldots,k_d)$ with each $1\leq k_m \leq n_m$.
    We also have,
    \begin{align}
        \delta_j(D_k* x) &= \sum_{j=-k}^k \hat{x}(j)\D(u(j))\\
        &= \sum_{j=-k}^k ij\hat{x}(j)u(j).        
    \end{align}
    
    Now we have,
    \begin{align}
        \widehat{\delta_j(x)}(n) &= \lim_{k\rightarrow\infty} \tau(F_k*xu(-n))\\
                           &= \lim_{k\rightarrow\infty} in_j\hat{x}(n).
    \end{align} 
    
    
\end{proof}


Now define $\D_j:\mathcal{L}^2(\M,\tau)\to \mathcal{L}^2(\M,\tau)$
as a (potentially not everywhere defined) linear operator, 
\begin{equation}
    \D_j := \frac{1}{i} \delta_j.
\end{equation}
We define $\Dom(\D_j) = \Dom(\delta_j)$.

Hence we have the formula,
\begin{equation}
    \widehat{\D_j x}(n) = n_j\hat{x}(n).
\end{equation}

\subsection{Noncommutative Tori}
So far we have discussed abstract von Neumann algebras
possessing a free and ergodic action by the group $\Circ^d$. It turns
out that all such von Neumann algebras have a convenient description. 

\begin{definition}
\label{ncTorus}
    Let $d > 0$ be a positive integer, and let $\theta$ be a
    real $d\times d$ anti-symmetric matrix. Let $\Hilb = \ell^2(\Itgr^d)$.
    $\Hilb$ has orthonormal basis $\{e_n\}_{n \in \Itgr^d}$
    where $e_n$ is the element of $\ell^2(\Itgr^d)$ equal to $1$
    in the $n$th position and $0$ elsewhere, for $n \in \Itgr^d$. 
    
     Define
    the operators $\{U_1,U_2,\ldots,U_d\}$ on $\Hilb$ as follows.
    
    Let $k > j \in \{1,2,\ldots,d\}$. Let $b_j \in \Itgr^d$
    be the vector equal to $0$ everywhere except the $j$th position
    where it is $1$. Define,
    \begin{equation}
        U_k e_{b_j} := \exp(2\pi i\theta_{j,k})e_{b_j+b_k}
    \end{equation}
    and for $k \leq j$,
    \begin{equation}
        U_k e_{b_j} := e_{b_k+b_j}.
    \end{equation}
    We also assume that, for $k < j$,
    \begin{equation}
        U_k^*e_{b_j} := e_{b_j-b_k}.
    \end{equation}
    
    This uniquely defines $U_k:\ell^2(\Itgr^d) \to \ell^2(\Itgr^d)$, 
    since for any $n \in \Itgr^d$, we can obtain $e_n$
    by successively applying $U_k$ for certain
    choices of $k$ to some $e_{b_j}$, also using the relation that,
    \begin{equation}
        e_{b_j} = U_k^*e_{b_j+b_k}.
    \end{equation}
    
    Then each $U_k$ is unitary, and the
    von Neumann algebra generated by $\{U_1,\ldots,U_d\}$ is denoted
    $\N_\theta$.
\end{definition}


\begin{proposition}
    Let $\M$ be a von Neumann algebra such that there is an action
    $\alpha:\Circ^d\times \M\to\M$ that is free and ergodic. Then $\M$
    is isometrically isomorphic to $\N_\theta$ for some $\theta$.
\end{proposition}
\begin{proof}
    By proposition \ref{densePolynomials}, $\M$ is generated
    by a family of unitaries $\{u(n)\;:\;n \in \Itgr^d\}$
    in the $\sigma$-weak topology.
    
    Define the mapping,
    \begin{equation}
        \Theta:\ell^2(\Itgr^d) \to \mathcal{L}^2(\M,\tau)
    \end{equation}
    given by $\Theta(c) = \sum_{n \in \Itgr^d} c_nu(n)$. It
    was proved in proposition \ref{L2Convergence} that this
    is an isometric isomorphism of Hilbert spaces. 
    
    Let $k \in \Itgr^d$. We define
    an action $\pi$ of $u(k)$ on $\ell^2(\Itgr^d)$ as follows.
    Let $c \in \ell^2(\Itgr^d)$. Now define,
    \begin{equation}
        \pi(u(k))c := \Theta^{-1}(u(k)\Theta(c)).
    \end{equation}   
    
    Let $e_n$ be as in Definition \ref{ncTorus}. We shall compute $\pi(u(k))(e_n)$.
    First, see that since $\Theta(e_n) = u(n)$,
    \begin{equation}
        \pi(u(k))(e_n) = \Theta^{-1}(u(k)u(n)).
    \end{equation}
    Now consider the element $u(k)u(n)u(k+n)^*$. This is
    fixed by the action of $\Circ^d$, hence by ergodicity
    is a scalar. Define
    \begin{equation}
    \label{omegaDef}
        \omega_{k,n}1 := u(k)u(n)u(k+n)^*.
    \end{equation}
    Since the right hand side of equation \ref{omegaDef} is unitary,
    we conclude that $|\omega_{k,n}| = 1$. 
    
    We can see that since $u(k)u(k)^* = 1 = u(n)u(n)^*$,
    we have $\omega_{0,n} = \omega_{k,0} = 1$.

    Hence,
    \begin{align}
        \pi(u(k))(e_n) &= \Theta^{-1}(\omega_{k,n}u(k+n))\\
                       &= \omega_{k,n}e_{k+n}.
    \end{align}
    
    Let $\{b_1,\ldots,b_d\} \subset \Itgr^d$ be the multi-indices
    with $b_j$ equal to $0$ everywhere except the $j$th position where
    it is equal to $1$. 
    
    Define, for $j,l \in \{1,\ldots,d\}$, 
    with $j \leq l$, the operator $U_j:\ell^2(\Itgr^d)\to\ell^2(\Itgr^d)$,
    \begin{align}
        U_je_{b_l} &:= \omega_{b_j,b_l}^{-1}\pi(u(b_j))e_{b_l}\\
                   &= e_{b_j+b_l}.
    \end{align}
    and for $j > l$,
    \begin{align}
        U_je_{b_l} &:= \pi(u(b_j))e_{b_l}\\
                   &= \omega_{b_j,b_l}e_{b_j+b_l}.
    \end{align}
    We also define that,
    \begin{equation}
        U_j^*e_{b_l} := e_{b_l-b_j}.
    \end{equation}
    Since it is a composition of isometries, $U_j$ is unitary. We
    shall show that $\{U_1,\ldots,U_d\}$ satisfies the relation
    of a noncommutative torus $\N_\theta$ for some $\theta$.
    
    Since $|\omega_{e_j,e_l}| = 1$, we can find $\theta_{j,l} \in \Rl$
    such that $\omega_{e_j,e_l} = \exp(2\pi i \theta_{j,l})$. 
    
    Now define $\theta_{l,j} = -\theta_{j,l}$, and $\theta_{j,j} = 0$.
    
    Hence we have defined a $d \times d$ antisymmetric real matrix $\theta$, with $(j,l)$th
    entry $\theta_{j,l}$. We now show that the unitaries $\{U_1,\ldots,U_d\}$
    satisfy the relations of the algebra $\N_\theta$. 
    
    If $j \leq l$, we have
    \begin{equation}
        U_je_{b_l} = e_{b_j+b_l}.
    \end{equation}
    We also see that,
    \begin{equation}
        U_j^*e_{b_l} := e_{b_l-b_j}.
    \end{equation}
    For $j > l$,
    \begin{equation}
        U_je_{b_l} = \exp(2\pi i \theta_{j,i})e_{b_j+b_l}.
    \end{equation}
    Now $\pi$ extends by linearity to a map from $\Span\{u(n)\;:\;n \in \Itgr^d\}$
    to $\mathcal{B}(\Hilb)$. Since $\pi$ is a composition of isometries, $\pi$
    must be $\sigma$-weakly continuous. Hence $\pi$ extends by continuity to a map
    \begin{equation}
        \pi:\M\to\mathcal{B}(\Hilb).
    \end{equation}
    Now any $T \in \im \pi$ is generated by a $\sigma$-weak converging sequence 
    of polynomials in $\{u(n)\;:\;n \in \Itgr^d\}$. Hence since $\sigma$-weak convergence
    clearly implies weak convergences, we see that $\pi(\M) \subseteq \N_\theta$.
    
    Since $\pi$ is an isometry, we see that the map $\pi:\M\to \N_\theta$
    is injective. We must now prove that it is surjective. 
    
    Let $T \in \N_\theta$. Then there is a sequence $p_n$ of polynomials in $\{U_1,\ldots,U_d\}$
    that converges in the weak operator topology to $T$. We
    see that $\Theta^{-1}(p_n)$ must also converge in the weak operator topology,
    hence it converges to some $x \in \M$. Hence by continuity, $\Theta(x) = T$.
    
    Thus $\pi$ is surjective, so is an isometric isomorphism $\M \isom \N_\theta$.
    
%    We have that there is a faithful normalised trace $\tau$, such that
%    \begin{equation}
%        \mathcal{L}^2(\M,\tau) = \left\{\sum_{n \in \Itgr^d} c_nu(n)\;:\; c \in \ell^2(\Itgr^d)\right\}
%    \end{equation}
%    Let us consider the action of $u(n)$ on $\mathcal{L}^2(\M,\tau)$.    
%    We
%    see that this is the same as the action of $U_1^{n_1}\cdots U_d^{n_d}$
%    on $\ell^2(\Itgr^d)$. Since the unitaries $u(n)$ generate $\M$ 
%    in the $\sigma$-weak topology, we conclude that $\M$
%    is isomorphic to $\N_\theta$ for some $\theta$.
\end{proof}

\section{Quantised Differentials on Noncommutative Tori}

Let $d > 0$ be a positive integer. 
Let $\N_{\theta}$ be a noncommutative torus
associated to the $d\times d$ anti-symmetric real matrix $\theta$.
$\N_\theta$ has a normalised trace $\tau$.
The Hilbert space $\mathcal{L}^2(\N_\theta,\tau)$ 
has orthonormal basis $\{u(n)\}_{n \in \Itgr^d}$ where $u(n) = U_1^{n_1}U_2^{n_2}\cdots U_d^{n_d}$.

Define $\omega_{j,k}$ for $j,k \in \Itgr^d$ to be such
that $u(j)u(k) = \omega_{j,k}u(k+j)$.

Given $f \in \mathcal{L}^2(\N_\theta,\tau)$, we define
\begin{equation}
    \hat{f}(n) := \tau(fu(n)^*).
\end{equation}
Then we have
\begin{equation}
    f = \sum_{k \in \Itgr^d} \hat{f}(k)u(k),
\end{equation}
which converges in the $\mathcal{L}^2$-sense. Note that $\tau(f) = \hat{f}(0)$.

For a function $F:\Itgr^d\rightarrow \Rl$, define $F(D) u(k) = F(k)u(k)$
as a densely defined linear operator on $\mathcal{L}^2(\N_\theta,\tau)$. 

It is easy to see that $F(D)$ is bounded on $\mathcal{L}^2(\N_\theta,\tau)$
if and only if $F \in \ell^\infty(\Itgr^d)$, with operator norm
$\|F\|_\infty$.

We shall identify $u(n) \in \N_\theta$ with the multiplication operator
$M_{u(n)}f = u(n)f$ for $f \in \mathcal{L}^2(\N_\theta,\tau)$

\subsection{Commutators}
\label{commutators}
Let $F:\Itgr^d\to\Rl$.
Let $n \in \Itgr^d$. We are interested in $[F(D),u(n)]$. 

Let $f \in \mathcal{L}^2(\N_\theta,\tau)$. 

Then,
\begin{align}
    u(n)f &= \sum_{k \in \Itgr^d} \hat{f}(k)u(n)u(k)\\
          &= \sum_{k \in \Itgr^d} \hat{f}(k)\omega_{n,k} u(n+k).
\end{align}
Hence,
\begin{equation}
    F(D) u(n)f = \sum_{k \in \Itgr^d} \hat{f}(k) \omega_{n,k} F(n+k) u(n+k).
\end{equation}

Now we compute,
\begin{equation}
    u(n)F(D)f = \sum_{k \in \Itgr^d} \hat{f}(k) F(k) \omega_{n,k} u(n+k).
\end{equation}

Thus,
\begin{equation}
    [F(D),u(n)]f = \sum_{k \in \Itgr^d} \hat{f}(k) (F(n+k)-F(k))\omega_{n,k}u(n+k).
\end{equation}

We can simplify this further,
\begin{align}
    [F(D),u(n)]f &= \sum_{k \in \Itgr^d} \hat{f}(k) (F(n+k)-F(k))u(n)u(k)\\
                 &= u(n)\sum_{k \in \Itgr^d}  \hat{f}(k) F(n+k)u(k) - u(n) \sum_{k \in \Itgr^d} \hat{f}(k)F(k)u(k)\\
                 &= u(n) F(n+D)f - u(n)F(D)f\\
                 \label{commutatorFormula}
                 &= u(n)F(n+D)f - u(n)F(D)f
\end{align}
So $[F(D),u(n)] = u(n)(F(n+D)-F(D))$. 

%\section{Hilbert-Schmidt Commutators}
%It is of interest to ask when $[F(D),u(n)] \in \mathcal{L}^2$. This is equivalent to,
%\begin{equation}
%    \|[F(D),u(n)]\|_{2}^2 := \sum_{j,k \in \Itgr^d} |\tau(u(j)^* [F(D),u(n)]u(k))|^2 < \infty.
%\end{equation}

%So we compute,
%\begin{align}
%    [F(D),u(n)]u(k) &= u(n)F(n+D)u(k) - u(n)F(D)u(k)\\
%                    &= u(n)F(n+k)u(k) - u(n)F(k)u(k)\\
%                    &= (F(n+k)-F(k))u(n)u(k).
%\end{align}
%Hence,
%\begin{align}
%    |\tau(u(j)^*[F(D),u(n)]u(k))| &= |F(n+k)-F(k)||\tau(u(j)^*u(n)u(k))|\\
%                                  &= |F(n+k)-F(k)|\delta_{j,n+k}\\
%\end{align}

%So therefore
%\begin{align}
%\label{HSConditions}
%    \|[F(D),u(n)]\|_{2}^2 &= \sum_{j,k \in \Itgr^d} |F(n+k)-F(k)|^2 \delta_{j,n+k}\\
%                          &= \sum_{k \in \Itgr^d} |F(n+k)-F(k)|^2.
%\end{align}

%So we have necessary and sufficient conditions for $[F(D),u(n)] \in \mathcal{L}^2$. 

\subsection{Membership of $\mathcal{L}^p$}
\begin{proposition}
\label{LpConditions}
    
For any $p > 0$, we have $[F(D),u(n)] \in \mathcal{L}^p$ if and only if
$\{F(k+n)-F(k)\} \in \ell^p(\Itgr^d)$ and
the (quasi) norm $\|F(D),u(n)\|_p$ is equal to $\|\{F(k+n)-F(k)\}_{k \in \Itgr^d}\|_p$.


\end{proposition}
We can see that since $F(D)$ and $F(n+D)$ are self adjoint, 
\begin{equation}
    [F(D),u(n)]^* = (F(n+D)-F(D))u(n)^*
\end{equation}
Hence,
\begin{equation}
    [F(D),u(n)]^*[F(D),u(n)] = (F(n+D)-F(D))^2.
\end{equation}
Hence,
\begin{equation}
    |[F(D),u(n)]| = |F(n+D)-F(D)|.
\end{equation}

Now,
\begin{align}
    \operatorname{Tr}(|[F(D),u(n)]|^p) &= \sum_{k \in \Itgr^d} \tau(u(k)^*|F(D+n)-F(D)|^pu(k))\\
    &= \sum_{k \in \Itgr^d} \tau(u(k)^*|F(k+n)-F(k)|^pu(k))\\
    &= \sum_{k \in \Itgr^d} |F(k+n)-F(k)|^p.
\end{align}
This is exactly the equality of $\|[F(D),u(n)]\|_p$ and $\|\{|F(k+n)-F(k)|\}_{k \in \Itgr^d}\|_p$.

\subsection{Double commutators}

We are also interested in the properties of the double commutators,
\begin{equation*}
    [[F(D),u(n)],u(n)]
\end{equation*}
for $n \in \Itgr^d$. By equation \ref{commutatorFormula}, this is
\begin{align}
    [[F(D),u(n)],u(n)] &= [F(D),u(n)]u(n) - u(n)[F(D),u(n)] \\
                       &= u(n)(F(n+D)-F(D))u(n)-u(n)u(n)(F(D+n)-F(D))\\
                       &= (F(D)-F(D-n))u(n)^2-(F(D-n)-F(D-2n))u(n)^2\\
                       &= (F(D-2n)-2F(D-n)+F(D))u(n)^2\\
                       &= u(n)(F(D+n)-2F(D)+F(D-n))u(n).
\end{align}
Hence,
\begin{equation*}
    |[[F(D),u(n)],u(n)]| = |F(D+2n)-2F(D+n)+F(D)|.
\end{equation*}

So we have $[[F(D),u(n)],u(n)] \in \mathcal{L}^p$
if and only if $\{F(k+n)-2F(k)+F(k-n)\}_{k\in \Itgr^d} \in \ell^p(\Itgr^d)$.

\subsection{Application to quantised differentials}
Recall that for functions on the circle $\Circ$, we have the result
that $\varphi$ is a rational function if and only if $\qd \varphi$
is finite rank. In the case of functions on a higher dimensional
torus, or more generally a noncommutative torus, there is no analogous
result.

However, analogous to proposition \ref{compactDifferentials}, we can show the following:
\begin{proposition}
\label{compactNCCommutators}
    Let $\N_\theta$ be a noncommutative torus associated
    to the $d\times d$ matrix $\theta$. We define $\A_\theta$
    to be the closure of the subalgebra generated by $\{U_1,\ldots,U_d\}$
    in the norm topology.
    Let $F \in \ell^\infty(\Itgr^d)$ be such
    that $\{F(k+n)-F(k)\}_{k \in \Itgr^d} \in c_0(\Itgr^d)$
    for all $n$. 
    
    If $a \in \A_\theta$, then $[F(D),a]$ is compact.
\end{proposition}
\begin{proof}
    Since $F \in \ell^\infty(\Itgr^d)$, we conclude that $\|F(D)\| = \|F\|_\infty < \infty$,
    so $\|[F(D),a]\| \leq 2\|F\|_\infty \|a\|$. 
    
    It was shown in section \ref{commutators} that 
    \begin{equation}
        [F(D),u(n)] = u(n)(F(n+D)-F(D)).
    \end{equation} 
    
    We now define a finite rank approximation to $F(D)$. Let $k \in \N$, then define
    \begin{equation}
        F_k(n) := \begin{cases}
            F(n),\text{ if }\|n\| < k\\
            0\;\text{ otherwise.}
        \end{cases} 
    \end{equation}
    Hence $F_k(n+D)-F_k(D)$ is a finite rank operator. 
    
    We have assumed that $\{F(n+k)-F(k)\}_{k \in \Itgr^d} \in c_0(\Itgr^d)$. Thus,
    for every $\varepsilon > 0$, there is a $K > 0$ such that for $k > K$,
    \begin{equation}
        \|F(n+D)-F(D) - F_k(n+D)+F_k(D)\| < \varepsilon.
    \end{equation}
    Thus we have that $[F_k(D),u(n)]$ converges in the operator
    norm to $[F(D),u(n)]$. But $[F_k(D),u(n)]$ is finite rank,
    hence $[F(D),u(n)]$ is compact.
    
    Thus for any linear combination $a$ of the terms $\{u(n)\}_{n \in \Itgr^d}$,
    we have that $[F(D),a]$ is compact. Since $\|[F(D),a]\| \leq 2\|F\|_\infty\|a\|$,
    we have that the map $a\mapsto [F(D),a]$ is continuous. Hence,
    for any $a$  in the norm closure of the set $\Span\{u(n)\}_{n \in \Itgr^d}$, 
    $[F(D),a]$ is compact. However the norm closure of the set $\Span\{u(n)\}_{n \in \Itgr^d}$
    is exactly $\A_\theta$.
\end{proof} 
\begin{remark}
    The commutative equivalent of this is as follows. We select $d = 1$,
    then $\N_\theta = L^\infty(\Circ)$, and $\A_\theta = C(\Circ)$.
    If we choose $F(k) = \sgn(k)$, then for $f \in C(\Circ)$, we
    have that $[F(D),M_f]$ is exactly the quantised differential of $f$.
    We see that since $\{\sgn(n+k)-\sgn(k)\}_{k \in \Itgr} \in c_0(\Itgr)$
    since it is a sequence of finite support, we have that $[\sgn(D),M_f]$
    is compact when $f \in C(\Circ)$. This is just a weaker version of proposition \ref{compactDifferentials}.
\end{remark}

To demonstrate that we do not have
analogues for most
of the results
of chapter \ref{IdealMembership}, we must clarify the meaning of a quantised differential
on a higher dimensional torus. We shall consider the two dimensional commutative case only.
\begin{definition}
\label{twoDirac}
    Let $\sigma_1$ and $\sigma_2$ be the first and second
    Pauli matrices, that is:
    \begin{align*}
        \sigma_1 := \begin{pmatrix}
            0 & 1\\
            1 & 0
        \end{pmatrix}\\
        \sigma_2 := \begin{pmatrix}
            0 & -i\\
            i & 0
        \end{pmatrix}.
    \end{align*}
    Let $u$ and $v$ be the first and second coordinate
    functions on the two-torus $\Circ^2 := \{(z,w) \in \Cplx^2\;:\;|z| = |w| = 1\}$,
    given by $u(z,w) = z$ and $v(z,w) = w$. Then we have the differentiation
    operators $\D_1$ and $\D_2$, given by $\D_1(u^nv^m) = nu^nv^m$
    and $\D_2(u^nv^m) = mu^nv^m$.
    
    Then the Dirac operator on the torus is defined to be:
    \begin{align*}
        \D &:= \sigma_1 \otimes \D_1 + \sigma_2 \otimes \D_2\\
        &= \begin{pmatrix}
            0 & \D_1-i\D_2\\
            \D_1 + i\D_2 & 0
        \end{pmatrix}.
    \end{align*}
    which is an operator on the Hilbert space $\Cplx^2 \otimes L^2(\Circ^2)$.
    
    We now define the operators $\D_1/\sqrt{\D_1^2+\D_2^2}$ and $\D_2/\sqrt{\D_1^2+\D_2^2}$,
    by
    \begin{equation}
        \frac{\D_1}{\sqrt{\D_1^2+\D_2^2}} (u^nv^m) := \begin{cases}
                                                        \frac{n}{\sqrt{n^2+m^2}}u^nv^m\;(n,m)\neq (0,0)\\
                                                        0,(n,m) = 0.
                                                      \end{cases}
    \end{equation}
    
    The Hilbert transform on the two torus is then defined to be:
    \begin{equation}
        \sgn(\D) := \sigma_1 \otimes \frac{\D_1}{\sqrt{\D_1^2+\D_2^2}} + \sigma_2 \otimes \frac{\D_2}{\sqrt{\D_1^2+\D_2^2}}
    \end{equation}
    
    For $f \in L^1(\Circ^2)$, we have the potentially not everywhere defined
    or bounded pointwise multiplication operator $1\otimes M_f$
    on $\Cplx^2\otimes L^2(\Circ)$. Define,
    \begin{equation}
        \qd f := [\sgn(\D),M_f]
    \end{equation}    
    as the quantised differential on the two-torus.
\end{definition}

Note that for any $f \in C(\Circ^d)$, we have $\qd f$ is compact
by proposition \ref{compactNCCommutators}.



\begin{proposition}
\label{noTraceClass}
    Let $v$ be the second coordinate function with quantised differential
    $\qd v$ as in definition \ref{twoDirac}. Then $\qd v \notin \mathcal{L}^1$.
\end{proposition}
\begin{proof}
    It is sufficient to look at the commutator,
    \begin{equation}
        \left[\frac{\D_1}{\sqrt{\D_1^2+\D_2^2}},M_v\right].
    \end{equation}
    By proposition \ref{LpConditions}, we have that this operator is $\mathcal{L}^1$
     only if
    \begin{equation}
        S := \sum_{(k_1,k_2)\in\Itgr^2\setminus \{(0,0),(0,-1)\}} \left|\frac{k_1}{\sqrt{k_1^2+(k_2+1)^2}}-\frac{k_1}{\sqrt{k_1^2+k_2^2}}\right| < \infty.
    \end{equation}
    We specialise this to $k_1,k_2 > 0$,
    \begin{align}
        S &> \sum_{k_1,k_2 > 0} \left|\frac{k_1}{\sqrt{k_1^2+(k_2+1)^2}}-\frac{k_1}{\sqrt{k_1^2+k_2^2}}\right|\\
        &= \sum_{k_1 > 0}\sum_{k_2 > 0} \frac{k_1}{\sqrt{k_1^2+k_2^2}}-\frac{k_1}{\sqrt{k_1^2+(k_2+1)^2}}. 
    \end{align}
    However the inner sum telescopes, so we have
    \begin{align}
        S &> \sum_{k_1 > 0} \frac{k_1}{\sqrt{k_1^2+1^2}}\\
        &= \infty.
    \end{align}
    Hence $\qd v \notin \mathcal{L}^1$. 
\end{proof}
What this proposition demonstrates is that the results
of Chapter \ref{IdealMembership} appear to have no analogue
in the two dimensional case: even for a function that is extremely smooth (such as
$v$), the quantised differential ($\qd v$) does not lie even within
the ideal $\mathcal{L}^1$, so there is evidently no hope 
of finding a class of smooth functions whose quantised differentials
lie in $\mathcal{L}^{1}$.

\begin{remark}
    The computation in Proposition \ref{noTraceClass} applies equally
    well to noncommutative tori of any dimension. 
\end{remark}

